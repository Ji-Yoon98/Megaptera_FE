# 2. React Testing Library

{% hint style="info" %}
React Testing Libraryλ€ React μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©μ μ…μ¥μ— κ°€κΉκ² ν…μ¤νΈν•  μ μλ” λ„κµ¬μ΄λ‹¤.
{% endhint %}

> [React Testing Library](https://github.com/testing-library/react-testing-library)\
> [jest-dom](https://github.com/testing-library/jest-dom)

```typescript
import { render, screen } from '@testing-library/react';

import TextField from './TextField';

test('TextField', () => {
  const text = 'Tester';
  const setText = () => {
    // do nothing...
  };

  render((
    <TextField
      label="Name"
      placeholder="Input your name"
      text={text}
      setText={setText}
    />
  ));

  screen.getByLabelText('Name');
});
```

ν…μ¤νΈ μ½”λ“, μ¦‰ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ” μ½”λ“λ¥Ό μ‘μ„±ν•λ©΄μ„ ν•΄λ‹Ή μ»΄ν¬λ„νΈμ μΈν„°νμ΄μ¤λ¥Ό μ κ²€ν•  μ μμ.\
κΈ°μ΅΄μ—λ” labelμ΄ λΉ μ Έμμ—κ³ , text κ°™μ΄ λ²”μ©μ μΈ ν‘ν„μ„ μ‚¬μ©ν•μ§€ μ•μ€ λ¬Έμ κ°€ μμ—λ‹¤.\
κ°λ°μ„ ν•λ©΄μ„ μ΄λ° λ¬Έμ λ¥Ό λ°κ²¬ ν•  μλ„ μμ§€λ§, ν…μ¤νΈλ¶€ν„° μ‘μ„±ν–κ±°λ‚ λΉ λ¥΄κ² ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν–λ‹¤λ©΄ μ‘μ„±ν•κΈ° μ „ λλ” λ°”λ΅ μ§ν›„μ— λ¬Έμ λ¥Ό λ°κ²¬ν•μ—¬ μμ •ν•  μ μμ—μ„ κ²ƒμ΄λ‹¤.\
μ‹κ°„μ΄ μ§€λ‚λ©΄ ν•΄λ‹Ή μ½”λ“μ— λ€ν• μ§€μ‹μ΄ κ°μ†ν•κ³ , μμ‹ κ° λν• κ°μ†ν•κΈ° λ•λ¬Έμ— κ±΄λ“λ¦¬κΈ° νλ“  μ½”λ“κ°€ λκΈ° μ‹­μƒμ΄λ‹¤.

</br>

```typescript
//  BDD μ¤νƒ€μΌλ΅ μ½”λ“λ¥Ό λ°”κΎΈκ³ , μ…λ ¥ λ“±μ΄ μ μ‘λ™ν•λ” μ§€ ν™•μΈν•΄λ³΄μ.

import { render, screen, fireEvent } from '@testing-library/react';

import TextField from './TextField';

const context = describe;

describe('TextField', () => {
  const text = 'Tester';
  const setText = jest.fn();

  beforeEach(() => {
    setText.mockClear();
    // λλ” jest.clearAllMocks();
  });

  function renderTextField() {
    render((
      <TextField
        label="Name"
        placeholder="Input your name"
        text={text}
        setText={setText}
      />
    ));
  }

  it('renders an input control', () => {
    renderTextField();

    screen.getByLabelText('Name');
  });

  context('when user types text', () => {
    it('calls the change handler', () => {
      renderTextField();

      fireEvent.change(screen.getByLabelText('Name'), {
        target: {
          value: 'New Name',
        },
      });

      expect(setText).toBeCalledWith('New Name');
    });
  });
});
```

λ°λ³µλλ” μ½”λ“λ¥Ό Extract Functionν•κ³ , fireEvent λ“±μ„ ν†µν•΄ μΈν„°λ™μ…λ§ κ²€μ¦ν•λ‹¤. \
λ§μ•½ λ³µμ΅ν• λ΅μ§μ΄ μ»΄ν¬λ„νΈλ΅λ¶€ν„° λ¶„λ¦¬λλ‹¤λ©΄, μ—¬κΈ°μ„λ” μ΄κ²ƒλ§ κ²€μ¦ν•λ©΄ λλ‹¤.

</br>

```typescript
import { render, screen } from '@testing-library/react';

import App from './App';

jest.mock('./hooks/useFetchProducts', () => () => [
  {
    category: 'Fruits', price: '$1', stocked: true, name: 'Apple',
  },
]);

test('App', () => {
  render(<App />);

  screen.getByText('Apple');
});
```

λ§μ•½ μ™Έλ¶€ μμ΅΄μ„±μ΄ ν° μ½”λ“λ¥Ό μ‘μ„±ν•λ‹¤λ©΄, ν•΄λ‹Ή λ¶€λ¶„λ§ κ°€μ§λ΅ κµ¬ν„ν•  μ μλ‹¤. </br></br>
μΌλ°μ μΌλ΅  λ°±μ—”λ“μ™€ μ†ν†µν•λ” λ¶€λ¶„μ΄ μ°¨μ§€ν•λ” λΉ„μ¤‘μ΄ ν°λ°, μ΄ λ¶€λ¶„μ„ ν•λ‚μ”© κ°€μ§ κµ¬ν„μΌλ΅ λ°”κΎΈλ‹¤ λ³΄λ©΄ μ–΄λ ¤μΈ λ•κ°€ μλ‹¤.\
μ΄λ΄ λ• MSW λ“± λ‹¤λ¥Έ λ€μ•μ„ κ³ λ ¤ν•΄ λ³΄μ.

[λ§¨ μ„λ΅π”Ί](2.-react-testing-library.md#)
