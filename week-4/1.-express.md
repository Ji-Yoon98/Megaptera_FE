# 1. Express

{% hint style="info" %}
[Express](https://expressjs.com/ko/) - Node.jsë¥¼ ìœ„í•œ ë¹ ë¥´ê³  ê°œë°©ì ì¸ ê°„ê²°í•œ ì›¹ í”„ë ˆì„ì›Œí¬
{% endhint %}

### ğŸ“šë°”ë¡œê°€ê¸°

- [ê°„ë‹¨í•œ ì„œë²„ ì•± npm íŒ¨í‚¤ì§€ ì„¸íŒ…](1.-express.md#npm)
- [Hello World ì˜ˆì œ](1.-express.md#hello-world)
- [REST API](1.-express.md#rest-api)

## ğŸ“ê°„ë‹¨í•œ ì„œë²„ ì•± npm íŒ¨í‚¤ì§€ ì„¸íŒ…

> [Express ì„¤ì¹˜](https://expressjs.com/ko/starter/installing.html)\
> [ts-node](https://github.com/TypeStrong/ts-node)

```bash
// íŒŒì¼ìƒì„±
mkdir express-demo-app
cd mkdir express-demo-app

// íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
npm init -y

// .gitignore íŒŒì¼ ì¤€ë¹„
touch .gitignore
echo "/node_modules/" > .gitignore

// TypeScript
npm i -D typescript
npx tsc --init

// ts-node ì„¤ì¹˜
npm i -D ts-node

// ESLint
npm i -D eslint 
npx eslint --init

// - To check syntax, find problems, and enforce code style â†’ 
// JavaScript modules (import/export) â†’ None of these â†’ Yes â†’ Node â†’ 
// Use a popular style guide â†’ XO â†’ JavaScript â†’ Yes â†’ npm

// Express ì„¤ì¹˜
npm i express
npm i -D @types/express
```

[ëª©ì°¨ğŸ”º](1.-express.md#undefined)

## ğŸ“Hello World ì˜ˆì œ

> [Express ì˜ˆì œ](https://expressjs.com/ko/starter/hello-world.html)

```javascript
import express from 'express';

const port = 3000;
const app = express();

app.get('/', (req, res) => { 
    res.send('Hello, world!');
});

app.listen(port, () => {
    console.log(`Server running at http://localhost:${port}`);
});
```

- TypeScriptì— ë§ì¶°  app.ts íŒŒì¼ì„ ì‘ì„±</br>

```bash
npx ts-node app.ts
```

- ts-node ì‹¤í–‰</br>

```bash
npm i -D nodemon
npx nodemon app.ts
```

- ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ì„œë²„ë¥¼ ì¬ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ [nodemon](https://github.com/remy/nodemon) ì‚¬ìš©í•œë‹¤.
- nodemonì€ ts-nodeì— ì˜ì¡´ì„±ì´ ìˆê¸° ë•Œë¬¸ì— npx i -D ts-nodeê°€ ì—†ìœ¼ë©´ ì•ˆëŒ

[ëª©ì°¨ğŸ”º](1.-express.md#undefined)

## ğŸ“REST API

> Roy Fielding - â€œ[Architectural Styles and the Design of Network-based Software Architectures](https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm)â€ (2000)\
> [Richardson Maturity Model](https://martinfowler.com/articles/richardsonMaturityModel.html)

ëŒ€ë¶€ë¶„ â€œí•„ë”© ì œì•½ ì¡°ê±´â€ 4ê°€ì§€ë¥¼ ëª¨ë‘ ë§Œì¡±X, Resourceì™€ HTTP Verbë§Œ ë„ì…í•˜ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

- /write-post : X
- /posts â†’ (CRUD) : O

CRUDì— ëŒ€í•´ HTTP Methodë¥¼ ëŒ€ì…. ReadëŠ” Collection(ë³µìˆ˜)ê³¼ Item(Element)(ë‹¨ìˆ˜)ë¡œ ë‚˜ë‰œë‹¤.

> ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ URL: /products
> 1. Read (Collection) : GET /products â†’ ìƒí’ˆ ëª©ë¡ í™•ì¸
> 2. Read (Item) : GET /products/{id} â†’ íŠ¹ì • ìƒí’ˆ ì •ë³´ í™•ì¸
> 3. Create (Collection Pattern í™œìš©) : POST /products â†’ ìƒí’ˆ ì¶”ê°€ (JSON ì •ë³´ í•¨ê»˜ ì „ë‹¬)
> 4. Update (Item) : PUT ë˜ëŠ” PATCH /products/{id} â†’ íŠ¹ì • ìƒí’ˆ ì •ë³´ ë³€ê²½ (JSON ì •ë³´ í•¨ê»˜ ì „ë‹¬)
> 5. Delete (Item) : DELETE /products/{id} â†’ íŠ¹ì • ìƒí’ˆ ì‚­ì œ

**Thinking in React ì˜ˆì œ**

```javascript
app.get('/products', (req, res) => {
    const products = [
        {
            category: 'Fruits', price: '$1', stocked: true, name: 'Apple',
        },
        {
            category: 'Fruits', price: '$1', stocked: true, name: 'Dragonfruit',
        },
        {
            category: 'Fruits', price: '$2', stocked: false, name: 'Passionfruit',
        },
        {
            category: 'Vegetables', price: '$2', stocked: true, name: 'Spinach',
        },
        {
            category: 'Vegetables', price: '$4', stocked: false, name: 'Pumpkin',
        },
        {
            category: 'Vegetables', price: '$1', stocked: true, name: 'Peas',
        },
    ];
    // ìë™ìœ¼ë¡œ JSONìœ¼ë¡œ ë°”ê¿”ì¤Œ
    res.send({ products }); 
});
```

[ëª©ì°¨ğŸ”º](1.-express.md#undefined)
