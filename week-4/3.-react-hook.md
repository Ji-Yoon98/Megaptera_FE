# 3. Reactì˜ Hook

{% hint style="info" %}
[Hook ì†Œê°œ](https://ko.reactjs.org/docs/hooks-intro.html)\
[Hook ê°œìš”](https://ko.reactjs.org/docs/hooks-overview.html)\
[Hooks API Reference](https://ko.reactjs.org/docs/hooks-reference.html)
{% endhint %}

### ğŸ“šë°”ë¡œê°€ê¸°

* [Hooks](3.-react-hook.md#hooks)
* [useEffect](3.-react-hook.md#useeffect)
* [íƒ€ì´ë¨¸ ì˜ˆì œ](3.-react-hook.md#undefined-1)
* [ì²˜ìŒì— í•œë²ˆë§Œ ì‹¤í–‰í•˜ê¸°](3.-react-hook.md#undefined-2)
* [Effectê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ëŠ” ë¬¸ì œ](3.-react-hook.md#effect)
* [ì˜ì¡´ì„± ë°°ì—´ì„ ì´ìš©í•´ Fetchí•  ë•Œ ì£¼ì˜ì‚¬í•­](3.-react-hook.md#fetch)

## ğŸ“Hooks

React 16.8ì—ì„œ Hooksê°€ ë„ì…ë¨. ê¸°ì¡´ ë°©ì‹ì— ìˆë˜ ëª‡ ê°€ì§€ ë¬¸ì œë¥¼ í•´ê²°. [React Conf 2018 Hooks ì†Œê°œ ì˜ìƒ](https://youtu.be/dpw9EHDh2bM)

> **ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œì **
>
> * Wrapper Hell (HoC)
> * Huge Components
> * Confusing Classes

[HoC (Higher-Order Components)](https://ko.reactjs.org/docs/higher-order-components.html)\
Reactë¥¼ ì“°ëŠ” ë°©ì‹ì„ ì™„ì „íˆ ë°”ê¾¼ í° ë³€í™”. â†’ ì´ì œëŠ” ì˜ˆì „ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê²Œ X

> **ê¸°ì¡´**
>
> * ìƒíƒœë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” Class Componentë¡œ ë§Œë“¤ê³ ,\n propsë§Œ ì‚¬ìš©í•˜ëŠ” ì¬ì‚¬ìš©ì´ ìš©ì´í•œ ì‘ì€ ì»´í¬ë„ŒíŠ¸ëŠ” Function Componentë¡œ ì‘ì„±.
> * Reduxì—ì„œë„ ë¹„ìŠ·í•œ êµ¬ë¶„ì´ ì¡´ì¬í–ˆë‹¤.

\


> **í˜„ì¬**
>
> * ê·¸ëƒ¥ Function Componentë§Œ ì‚¬ìš©.
> * ìƒíƒœ ê´€ë¦¬ ìœ ë¬´ë¥¼ ë°”ë¡œ ì•Œê¸° ì–´ë ¤ì›€ == ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë¨.
> * ë³µì¡í•œ ìš”ì†ŒëŠ” ì „ë¶€ Hookìœ¼ë¡œ ê²©ë¦¬ ë° ì¬ì‚¬ìš© ê°€ëŠ¥.

\


> **ëŒ€í‘œì ì¸ Hooks**
>
> * useState: State Hook â†’ Reactì˜ State
> * useEffect â†’ Side-effect
> * useContext
> * useRef
> * useLayoutEffect â†’ useEffectì™€ ì¡°ê¸ˆ ë‹¤ë¦„.

[ëª©ì°¨ğŸ”º](3.-react-hook.md#undefined)

## ğŸ“useEffect

> [Synchronizing with Effects](https://beta.reactjs.org/learn/synchronizing-with-effects)\
> [You Might Not Need an Effect](https://beta.reactjs.org/learn/you-might-not-need-an-effect)\
> [Using the Effect Hook](https://ko.reactjs.org/docs/hooks-effect.html)\
> [useEffect](https://beta.reactjs.org/reference/react/useEffect)\
> [useEffect ì™„ë²½ ê°€ì´ë“œ](https://overreacted.io/ko/a-complete-guide-to-useeffect/)

* ë Œë”ë§ ì´í›„ í•´ì•¼ í•  ì¼, ì¦‰ Reactì˜ ì™¸ë¶€ì™€ ê´€ë ¨ëœ ì¼ì„ ì •í•´ì¤„ ìˆ˜ ìˆìŒ.
* ê¸°ë³¸ì ìœ¼ë¡œ ë Œë”ë§ ë•Œë§ˆë‹¤ ì‹¤í–‰ ë¨, ì˜ì¡´ì„± ë°°ì—´ì„ í†µí•´ ì–¸ì œ - - ì´í™íŠ¸ë¥¼ ì‹¤í–‰í• ì§€ ì§€ì •í•  ìˆ˜ ìˆìŒ. (ë¶ˆí•„ìš” == ê±´ë„ˆ ë›¸ ìˆ˜ ìˆìŒ)
* í•¨ìˆ˜ë¥¼ ë¦¬í„´í•¨ìœ¼ë¡œì¨ ì¢…ë£Œ ì²˜ë¦¬ ê°€ëŠ¥.

[ëª©ì°¨ğŸ”º](3.-react-hook.md#undefined)

## ğŸ“íƒ€ì´ë¨¸ ì˜ˆì œ

```typescript
useEffect(() => {
    document.title = `Now: ${new Date().getTime()}`;
});
```

Reactì˜ ì™¸ë¶€ì— ìš°ì•„í•˜ê²Œ ì ‘ê·¼, ì´ë ‡ê²Œ ì“°ëŠ” ìŠµê´€ì„ ë“¤ì´ì. ì´ ì •ë„ëŠ” useEffectë¥¼ ì•ˆ ì“´ë‹¤ê³  í¬ê²Œ ë¬¸ì œëŠ”X\


```typescript
function Timer() {
    useEffect(() => {
        setInterval(() => {
            document.title = `Now: ${new Date().getTime()}`;
        }, 100);
    });

    return (
        <p>Playing</p>
    );
}

export default function TimerControl() {
    const [playing, setPlaying] = useState(false);
    
    const handleClick = () => {
        setPlaying(!playing);
    };

    return (
        <div>
            {playing ? (
                <Timer />
            ) : (
                <p>Stop</p>
            )}
            <button type="button" onClick={handleClick}>
                Toggle
            </button>
        </div>
    );
}
```

íƒ€ì´ë¨¸ë¥¼ on/offí•˜ëŠ” ê¸°ëŠ¥ì„ ê·¸ëƒ¥ ë§Œë“¤ë©´ ë¬¸ì œ ë°œìƒ\


```typescript
useEffect(() => {
    const savedTitle = document.title;

    const id = setInterval(() => {
        document.title = `Now: ${new Date().getTime()}`;
    }, 100);

    return () => {
        document.title = savedTitle;
        clearInterval(id);
    };
});
```

[ëª©ì°¨ğŸ”º](3.-react-hook.md#undefined)

## ğŸ“ì²˜ìŒì— í•œë²ˆë§Œ ì‹¤í–‰í•˜ê¸°

ì˜ì¡´ì„± ë°°ì—´ì—ì„œ ì•„ë¬´ ê²ƒë„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë§¨ ì²˜ìŒ ë”± í•œë²ˆë§Œ ì‹¤í–‰í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.\
ì£¼ë¡œ APIë¥¼ í˜¸ì¶œ â†’ ë°ì´í„°ë¥¼ ì–»ì„ ë•Œ ì‚¬ìš©.

```typescript
const [products, setProducts] = useState<Product[]>([]);
    useEffect(() => {
        // fetch
        const fetchProducts = async () => {
            const url = 'http://localhost:3000/products';
            const response = await fetch(url);
            const data = await response.json();
            setProducts(data.products);
        }
        fetchProducts();
    }, [] // ì´ ë¶€ë¶„ );
```

Fetch í•¨ìˆ˜ì˜ ìœ„ì¹˜ê°€ ê³ ë¯¼ëœë‹¤ë©´, Dan Abramovì˜ ê¸€ì„ ë‹¤ì‹œ ë³´ì.

* [useEffect ì™„ë²½ê°€ì´ë“œ - í•¨ìˆ˜ë¥¼ ì´í™íŠ¸ ì•ˆìœ¼ë¡œ ì˜®ê¸°ê¸°](https://overreacted.io/ko/a-complete-guide-to-useeffect/#%ED%95%A8%EC%88%98%EB%A5%BC-%EC%9D%B4%ED%8E%99%ED%8A%B8-%EC%95%88%EC%9C%BC%EB%A1%9C-%EC%98%AE%EA%B8%B0%EA%B8%B0)

[ëª©ì°¨ğŸ”º](3.-react-hook.md#undefined)

## ğŸ“Effectê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ëŠ” ë¬¸ì œ

\<React.StrictMode>ë¡œ ì»´í¬ë„ŒíŠ¸ ì „ì²´ë¥¼ ê°ìŒ€ ê²½ìš°,\
ì˜ˆìƒì¹˜ ëª»í•œ Side Effectë¥¼ ì°¾ìœ¼ë ¤ê³  Effect ë“±ì„ ë‘ ë²ˆì”© ì‹¤í–‰\
í‰ì†Œì—ëŠ” í° ë¬¸ì œê°€ ì—†ì§€ë§Œ, API ë“±ì„ ì‚¬ìš©í•˜ë©´ ì´ìƒí•˜ë‹¤ê³  ëŠë‚„ ìˆ˜ ìˆìœ¼ë‹ˆ ì°¸ê³ í•  ê²ƒ.

* [**ì˜ˆìƒì¹˜ ëª»í•œ ë¶€ì‘ìš© ê²€ì‚¬**](https://www.notion.so/0bf5a58a76714573946be792e38f53d5)

[ëª©ì°¨ğŸ”º](3.-react-hook.md#undefined)

## ğŸ“ì˜ì¡´ì„± ë°°ì—´ì„ ì´ìš©í•´ Fetchí•  ë•Œ ì£¼ì˜ì‚¬í•­

* [Fetching data](https://beta.reactjs.org/learn/synchronizing-with-effects#fetching-data)

[ëª©ì°¨ğŸ”º](3.-react-hook.md#undefined)
