# 4. useRef & Custom Hook

{% hint style="info" %}
useRefëŠ” ì €ì¥ê³µê°„ ë˜ëŠ” DOMìš”ì†Œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” React Hookì´ë‹¤.

ì»¤ìŠ¤í…€ í›…ì€ ë§ ê·¸ëŒ€ë¡œ ê°œë°œìê°€ ìŠ¤ìŠ¤ë¡œ ì»¤ìŠ¤í…€ í•œ í›…ì„ ë§í•œë‹¤.\
 ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, ê°œë°œìì˜ ì…ë§›ì— ë”°ë¼ ë§Œë“¤ì–´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
{% endhint %}

### ğŸ“šë°”ë¡œê°€ê¸°

- [useRef](4.-useref-and-custom-hook.md#useref)
- [Custom Hook](4.-useref-and-custom-hook.md#custom-hook)
- [Hook ê·œì¹™](4.-useref-and-custom-hook.md#hook)

## ğŸ“useRef

> [beta ë¬¸ì„œì˜ useRef](https://beta.reactjs.org/reference/react/useRef)\
> [ê³µì‹ ë¬¸ì„œì˜ useRef](https://ko.reactjs.org/docs/hooks-reference.html#useref)

ì»´í¬ë„ŒíŠ¸ì˜ ìƒì• ì£¼ê¸° ì „ì²´ì— ê±¸ì³ì„œ ìœ ì§€ë˜ëŠ” ê°ì²´. ì¦‰, ì»´í¬ë„ŒíŠ¸ê°€ ì—†ì–´ì§ˆ ë•Œê¹Œì§€ ë™ì¼í•œ ê°ì²´ê°€ ìœ ì§€ëœë‹¤.\
ê°ì²´ ìì²´ê°€ ê°’ì€ ì•„ë‹ˆê³ , ê°’ì„ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ê°ì²´. ì¦‰, **ì–¸ì œë“ ì§€ ê°’ì„ ë³€ê²½**í•  ìˆ˜ ìˆë‹¤.\
ìƒíƒœ(state)ê°€ ë³€ê²½ë˜ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì™€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ë§Œ,\
ë ˆí¼ëŸ°ìŠ¤ ê°ì²´ì˜ í˜„ì¬ ê°’(current)ì´ ë°”ë€Œë”ë¼ë„ ë Œë”ë§ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

> ì£¼ìš” ìš©ë„
> 1. ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œê¹Œì§€ ë™ì¼í•œ ê°’ì„ ì¨ì•¼ í•˜ëŠ” ê²½ìš° â†’ input ë“±ì˜ ID ê´€ë¦¬.
> 2. (íŠ¹íˆ useEffect ë“±ê³¼ í•¨ê»˜ ì“°ë©´ì„œ ë§Œë‚˜ê²Œ ë˜ëŠ”) ë¹„ë™ê¸° ìƒí™©ì—ì„œ í˜„ì¬ ê°’ì„ ì œëŒ€ë¡œ ì“°ê³  ì‹¶ì€ ê²½ìš°.

Closure â†’ ë³€ìˆ˜ë¥¼ capture, bindë¥¼ ê¹œë¹¡í•˜ëŠ” ë¬¸ì œê°€ ì¢…ì¢… ì¼ì–´ë‚¨.

```typescript
// ì ˆëŒ€ë¡œ ì“¸ ì¼ì´ ì—†ëŠ” ì–µì§€ë¡œ ê¾¸ë©°ë‚¸ ìƒí™©
useEffect(() => {
    setTimeout(() => {
        console.log(filterText);
    }, 5_000);
}, []);
```

[ëª©ì°¨ğŸ”º](4.-useref-and-custom-hook.md#undefined)

## ğŸ“Custom Hook

> [Reusing Logic with Custom Hooks](https://beta.reactjs.org/learn/reusing-logic-with-custom-hooks)\
> [ìì‹ ë§Œì˜ Hook ë§Œë“¤ê¸°](https://ko.reactjs.org/docs/hooks-custom.html)

ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì œì¼ ì‰¬ìš´ ë°©ë²•.

í‰ë²”í•˜ê²Œ Extract Functionì„ ìˆ˜í–‰í•˜ë©´ ë¨.\
ì»´í¬ë„ŒíŠ¸ê°€ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” PascalCaseë¡œ ì´ë¦„ì„ ë¶™ì¸ë‹¤ë©´, HookëŠ” **"use"**ë¡œ ì‹œì‘í•˜ëŠ” camelCaseë¡œ ì´ë¦„ì„ ë¶™ì´ë©´ ë¨.

```typescript
function useFetchProducts() {
    const [products, setProducts] = useState<Product[]>([]);
    
    useEffect(() => {
        const fetchProducts = async () => {
            const url = 'http://localhost:3000/products';
            const response = await fetch(url);
            const data = await response.json();
            setProducts(data.products);
        };
        fetchProducts();
    }, []);

    return products;
}
```

- ì»´í¬ë„ŒíŠ¸ ì½”ë“œë„ ëª…í™•í•´ì§€ê³ , setProductsê°€ ì‹¤ìˆ˜ë¡œ ì˜ëª» ì“°ì¼ ë¬¸ì œê¹Œì§€ í•´ì†Œë¨.

[ëª©ì°¨ğŸ”º](4.-useref-and-custom-hook.md#undefined)

## ğŸ“Hook ê·œì¹™

> [Hookì˜ ê·œì¹™](https://ko.reactjs.org/docs/hooks-rules.html)

Hook í˜¸ì¶œì€ ê·œì¹™ì´ ìˆì–´ì„œ ë‹¨ìˆœí•˜ê²Œ ì“°ë„ë¡ í•´ì•¼ í•¨.
    1. Function Component ë°”ë¡œ ì•ˆìª½(í•¨ìˆ˜ì˜ ìµœìƒìœ„)ì—ì„œë§Œ í˜¸ì¶œ.
    2. Function Component or Custom Hookì—ì„œë§Œ í˜¸ì¶œ.

```typescript
if (playing) {
    const products = useFetchProducts();
    console.log(products);
}
```

- ì²˜ìŒì—ëŠ” ì½œë°± í•¨ìˆ˜ë‚˜ ì¡°ê±´ë¬¸ ì•ˆì—ì„œ Hookì„ í˜¸ì¶œí•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ì €ì§€ë¥´ê¸° ì‰¬ì›€.

[ëª©ì°¨ğŸ”º](4.-useref-and-custom-hook.md#undefined)
