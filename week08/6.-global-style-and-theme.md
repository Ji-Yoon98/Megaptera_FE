# Global Style & Theme

{% hint style="info" %}
GlobalStyle : ë§Œë“¤ê³ ìˆëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ì ìš©í•´ì£¼ëŠ” ìŠ¤íƒ€ì¼ì„ ë§í•¨.

Theme : ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  styleì„ ì§€ì •í•˜ëŠ” ë°©ì‹. í•˜ë‚˜ì˜ objectì— styleì„ ì •ì˜ í•´ë‘ëŠ”ê²ƒ.
{% endhint %}

### ğŸ“šë°”ë¡œê°€ê¸°

- [Reset CSS](6.-global-style-and-theme.md#reset-css)
- [Global Style](6.-global-style-and-theme.md#global-style)
- [Theme](6.-global-style-and-theme.md#theme)

## Reset CSS

> [Reset Css](https://meyerweb.com/eric/tools/css/reset/)\
> [styled-reset](https://github.com/zacanger/styled-reset)

```bash
// íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm i styled-reset
```

```typescript
// App ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©.
import { Reset } from 'styled-reset';

export default function App() {
    return (
        <>
            <Reset />
            <Greeting />
        </>
    );
}
```

[ëª©ì°¨ğŸ”º](6.-global-style-and-theme.md#undefined)

## Global Style

> [createGlobalStyle](https://styled-components.com/docs/api#createglobalstyle)\
> [ëŒ€ì²´ CSS box model](https://developer.mozilla.org/ko/docs/Learn/CSS/Building_blocks/The_box_model#ëŒ€ì²´_css_box_model)\
> [box-sizing](https://developer.mozilla.org/ko/docs/Web/CSS/box-sizing)\
> [The 62.5% Font Size Trick](https://www.aleksandrhovhannisyan.com/blog/62-5-percent-font-size-trick/)\
> [keep-all-villain](https://twitter.com/keepallvillain)\
> [word-break](https://developer.mozilla.org/ko/docs/Web/CSS/word-break)

```typescript
// ì „ì—­ ìŠ¤íƒ€ì¼ ì§€ì •.
import { createGlobalStyle } from 'styled-components';

const GlobalStyle = createGlobalStyle`
    html {
        box-sizing: border-box;
    }

    *,
    *::before,
    *::after {
        box-sizing: inherit;
    }

    html {
        font-size: 62.5%;
    }

    body {
        font-size: 1.6rem;
    }

    :lang(ko) {
        h1, h2, h3 {
            word-break: keep-all;
        }
    }
`;

export default GlobalStyle;
```

```typescript
// App ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©.
import { Reset } from 'styled-reset';

import GlobalStyle from './styles/GlobalStyle';

export default function App() {
    return (
        <>
            <Reset />
            <GlobalStyle />
            <Greeting />
        </>
    );
}
```

[ëª©ì°¨ğŸ”º](6.-global-style-and-theme.md#undefined)

## Theme

> [Theming](https://styled-components.com/docs/advanced#theming)\
> [Create a declarations file](https://styled-components.com/docs/api#create-a-declarations-file)

ë””ìì¸ ì‹œìŠ¤í…œì˜ ê·¼ê°„ì„ ë§ˆë ¨í•˜ëŠ”ë° í™œìš©.\
ì˜ ì •ì˜í•˜ë©´ ë‹¤í¬ ëª¨ë“œ ë“±ì— ëŒ€ì‘í•˜ê¸° ì‰¬ì›€.\
ëˆˆì— ë³´ì´ëŠ” ë‹¨í¸ì ì¸ ì •ë³´ë¥¼ ë„˜ì–´ì„œ, â€œì˜ë¯¸â€ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ ë¨.

```typescript
// ê¸°ë³¸ Theme ì •ì˜.
const defaultTheme = {
    colors: {
        background: '#FFF',
        text: '#000',
        primary: '#F00',
        secondary: '#00F',
    },
};

export default defaultTheme;
```

```typescript
// APP ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©.
import { ThemeProvider } from 'styled-components';

import { Reset } from 'styled-reset';

import defaultTheme from './styles/defaultTheme';

import GlobalStyle from './styles/GlobalStyle';

export default function App() {
    const Theme = defaultTheme;

    return (
        <ThemeProvider theme={Theme}>
            <Reset />
            <GlobalStyle />
            <Greeting />
        </ThemeProvider>
    );
}
```

```typescript
import 'styled-components';

declare module 'styled-components' {
    export interface DefaultTheme extends Theme {
        colors: {
            background: string;
            text: string;
            primary: string;
            secondary: string;
        }
    }
}
```

- íƒ€ì… ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `styled.d.ts` íŒŒì¼ì„ ì‘ì„±.
</br>

```typescript
import { createGlobalStyle } from 'styled-components';

const GlobalStyle = createGlobalStyle`
    body {
        background: ${(props) => props.theme.colors.background};
        color: ${(props) => props.theme.colors.text};
    }

    a {
        color: ${(props) => props.theme.colors.text};
    }

    button,
    input,
    select,
    textarea {
        background: ${(props) => props.theme.colors.background};
        color: ${(props) => props.theme.colors.text};
    }
`; 

export default GlobalStyle;
```

- ì´ì œ `â€œprops.themeâ€`ì„ ì“¸ ìˆ˜ ìˆë‹¤.
</br>

```typescript
// íƒ€ì…ì„ ì •ì˜í•˜ê³  defaultThemeì„ ë§ì¶”ëŠ” ê²Œ ë¶ˆí¸í•˜ë‹ˆ, ë°˜ëŒ€ë¡œ defaultThemeì—ì„œ íƒ€ì…ì„ ì¶”ì¶œ.
import defaultTheme from './defaultTheme';

type Theme = typeof defaultTheme;

export default Theme;


// íƒ€ì… íŒŒì¼ ë³€ê²½.
import 'styled-components';

import Theme from './Theme';

declare module 'styled-components' {
    export interface DefaultTheme extends Theme {}
}


// ë‹¤ë¥¸ themeì„ ì¶”ê°€í•  ë•Œ Theme íƒ€ì…ì„ ì‚¬ìš©. 
// í•­ìƒ defaultThemeì— ë¨¼ì € í•­ëª©ì„ ì¶”ê°€/ì‚­ì œí•˜ê³ , ë‚˜ë¨¸ì§€ë¥¼ ì—¬ê¸°ì— ë§ì¶”ë©´ ëœë‹¤.
import Theme from './Theme';

const darkTheme: Theme = {
    colors: {
        background: '#000',
        text: '#FFF',
        primary: '#F00',
        secondary: '#00F',
    },
};

export default darkTheme;
```

```typescript
// ì˜ë¯¸ë¥¼ ëª…í™•íˆ ë“œëŸ¬ëƒˆë‹¤ë©´, ë‹¤í¬ ëª¨ë“œë¥¼ ì§€ì›í•˜ëŠ” ê²ƒë„ ì‰½ë‹¤.
import { useDarkMode } from 'usehooks-ts';

import { ThemeProvider } from 'styled-components';

import { Reset } from 'styled-reset';

import defaultTheme from './styles/defaultTheme';
import darkTheme from './styles/darkTheme';

import GlobalStyle from './styles/GlobalStyle';

import Greeting from './components/Greeting';
import Button from './components/Button';

export default function App() {
const { isDarkMode, toggle } = useDarkMode();

const theme = isDarkMode ? darkTheme : defaultTheme;

return (
    <ThemeProvider theme={theme}>
        <Reset />
        <GlobalStyle />
        <Greeting />
        <Button onClick={toggle}>
            Dark Theme Toggle
        </Button>
    </ThemeProvider>
    );
}
```

</br>
Jest í…ŒìŠ¤íŠ¸ ìª½ì—ì„œ `â€œwindow.matchMediaâ€` ë¬¸ì œ ë°œìƒ.
> [Mocking methods which are not implemented in JSDOM](https://jestjs.io/docs/manual-mocks#mocking-methods-which-are-not-implemented-in-jsdom)

```typescript
Object.defineProperty(window, 'matchMedia', {
    writable: true,
    value: jest.fn().mockImplementation((query) => ({
        matches: false,
        media: query,
        onchange: null,
        addListener: jest.fn(), // deprecated
        removeListener: jest.fn(), // deprecated
        addEventListener: jest.fn(),
        removeEventListener: jest.fn(),
        dispatchEvent: jest.fn(),
    })),
});
```

- `src/setupTests.ts` íŒŒì¼ì— ê³µì‹ ë¬¸ì„œì— ë‚˜ì˜¨ ì½”ë“œë¥¼ ë„£ìœ¼ë©´ í•´ê²°ëœë‹¤.
</br>

- ì°¸ê³ ìë£Œ ğŸ‘‡ğŸ»
- [https://code.visualstudio.com/api/references/theme-color](https://code.visualstudio.com/api/references/theme-color)
- [https://getbootstrap.com/docs/5.3/customize/color/](https://getbootstrap.com/docs/5.3/customize/color/)

[ëª©ì°¨ğŸ”º](6.-global-style-and-theme.md#undefined)
