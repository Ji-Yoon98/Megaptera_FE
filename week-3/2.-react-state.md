# 2. React State

{% hint style="info" %}
stateëŠ” ì»´í¬ë„ŒíŠ¸ì˜ í˜„ì¬ ìƒí™©ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ë¦¬ì•¡íŠ¸ì—ì„œ ì“°ëŠ” ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë‹¤.</br>
stateëŠ” (í•¨ìˆ˜ ë‚´ì— ì„ ì–¸ëœ ë³€ìˆ˜ì²˜ëŸ¼) ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ê´€ë¦¬ëœë‹¤.</br>
ì¼ë°˜ ë³€ìˆ˜ëŠ” í•¨ìˆ˜ê°€ ì¢…ë£Œë  ë•Œ ì‚¬ë¼ì§€ì§€ë§Œ state ë³€ìˆ˜ëŠ” ë¦¬ì•¡íŠ¸ì— ì˜í•´ ë³´ì¡´ëœë‹¤.
{% endhint %}

### ğŸ“šë°”ë¡œê°€ê¸°

- [ë˜ Thinking in React](2.-react-state.md#ë˜-thinking-in-react)
- [Reactì˜ State](2.-react-state.md#reactì˜-state)
- [Inverse Data Flow](2.-react-state.md#inverse-data-flow)

## ğŸ“ë˜ Thinking in React

> [Thinking in React](https://beta.reactjs.org/learn/thinking-in-react)

- â€œStep 3: Find the minimal but complete representation of UI stateâ€\
   ìµœì†Œí•œì˜ ì™„ì „í•œ í‘œí˜„ì˜ UIìƒíƒœë¥¼ ì°¾ì•„ë¼
- â€œStep 4: Identify where your state should liveâ€\
   ì–´ë””ì— ìˆê²Œ í• ê²ƒì¸ì§€?
- â€œStep 5: Add inverse data flowâ€

[ëª©ì°¨ğŸ”º](2.-react-state.md#undefined)

## ğŸ“Reactì˜ State

Reactì˜ stateëŠ” â€œë³€ê²½â€ì„ ë‹¤ë£¨ê¸° ìœ„í•œ ìš”ì†Œ. â€œRe-renderingâ€ì´ë€ ì£¼ì œì—ì„œ ë‹¤ë¤„ì§„ë‹¤. </br>
ê±°ì¹ ê²Œ ì´ì•¼ê¸°í•˜ë©´, ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì˜ stateê°€ ë°”ë€Œë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì™€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•˜ê²Œ ëœë‹¤.</br>

ì•„ë¬´ë ‡ê²Œë‚˜ ë§‰ ë§Œë“¤ì–´ë„ ë˜ì§€ë§Œ, ì¼ê´€ì„±ê³¼ íš¨ìœ¨ì„ ìœ„í•´ DRY ì›ì¹™ì„ ë”°ë¥´ëŠ” SSOTë¥¼ ë§Œë“ ë‹¤.

- ì°¸ê³ ìë£Œ ğŸ‘‡ğŸ»
- [DRY (Donâ€™t Repeat Yourself)](https://ko.wikipedia.org/wiki/ì¤‘ë³µë°°ì œ)
- [SSOT (Single Source of Truth)](https://ko.wikipedia.org/wiki/ë‹¨ì¼_ì§„ì‹¤_ê³µê¸‰ì›)

**React Stateì˜ ì¡°ê±´:**

1. ë³€ê²½ì´ ê°€ëŠ¥í•´ì•¼í•¨, ë³€ê²½ë˜ì§€ ì•ŠëŠ” ê±´ stateë¡œ ë‹¤ë£° ê°€ì¹˜ê°€ ì—†ë‹¤.
2. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ propsë¥¼ í†µí•´ ì „ë‹¬í•œë‹¤ë©´ stateê°€ ì•„ë‹˜.
3. ë‹¤ë¥¸ stateë‚˜ propsë¥¼ ì´ìš©í•´ ê³„ì‚° ê°€ëŠ¥í•˜ë‹¤ë©´ stateê°€ ì•„ë‹˜.

```typescript
// ì´ë ‡ê²Œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤ëŠ” ëœ»
const [categories, setCategories] = useState<string[]>([]);

useEffect(() => {
  setCategories(selectCategories(products));
}, [products]);
```

</br>

ë‹¤ë£¨ëŠ” ìƒíƒœê°€ ë„ˆë¬´ ë§ìœ¼ë©´ ë³µì¡í•˜ë‹¤. TypeScriptë¥¼ ì˜ ì“°ë©´ ì§ì ‘ ê´€ë¦¬í•˜ëŠ” ìƒíƒœì˜ ìˆ˜ë¥¼ ì¤„ì—¬ì¤„ ìˆ˜ ìˆë‹¤.</br>
ê·¸ë ‡ë‹¤ë©´ ê·¸ ìƒíƒœë¥¼ ëˆ„ê°€ ê´€ë¦¬í•´ì•¼ í• ê¹Œ? ë” ì •í™•íˆëŠ”, ìƒíƒœë¥¼ ëˆ„ê°€ ì†Œìœ í•´ì•¼ í• ê¹Œ?</br>
(Reactë§Œ ì“´ë‹¤ë©´) í•´ë‹¹ ìƒíƒœì— ì˜ì¡´ì ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ëª¨ë‘ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìƒíƒœë¥¼ ì†Œìœ í•´ì•¼ í•¨.

```typescript
// State Up ì˜ˆì‹œ classì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ìœ¼ë¡œ thisê°€ ë¶™ìŒ
const scaleNames = {
  c: "Celsius",
  f: "Fahrenheit",
};

class TemperatureInput extends React.Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.state = { temperature: "" };
  }

  handleChange(e) {
    this.setState({ temperature: e.target.value });
  }

  render() {
    const temperature = this.state.temperature;
    const scale = this.props.scale;
    return (
      <fieldset>
        <legend>Enter temperature in {scaleNames[scale]}:</legend>
        <input value={temperature} onChange={this.handleChange} />
      </fieldset>
    );
  }
}
```

- ì°¸ê³ ìë£Œ ğŸ‘‡ğŸ»
- [â€œLifting State Upâ€](https://ko.reactjs.org/docs/lifting-state-up.html)
- [Sharing State Between Components](https://beta.reactjs.org/learn/sharing-state-between-components)

[ëª©ì°¨ğŸ”º](2.-react-state.md#undefined)

## ğŸ“Inverse Data Flow

í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬, í”íˆ ì½œë°± í•¨ìˆ˜ë¼ê³  ë¶€ë¥¸ë‹¤.

TypeScript(ì •í™•íˆëŠ” JavaScript)ëŠ” í•¨ìˆ˜ê°€ ì¼ê¸‰(first-class) ê°ì²´ë‹¤.</br>
ì¦‰, ì–´ë–¤ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì¸ìë¡œ ë„˜ê²¨ì£¼ê±°ë‚˜, ì–´ë–¤ í•¨ìˆ˜ë¥¼ ë¦¬í„´ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</br>
ìµëª… í•¨ìˆ˜, í´ë¡œì € ë“±ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì‹œë„ˆì§€ê°€ í¼.

- ì°¸ê³ ìë£Œ ğŸ‘‡ğŸ»
- [ì¼ê¸‰ í•¨ìˆ˜](https://developer.mozilla.org/ko/docs/Glossary/First-class_Function)
- ë‹¤ì‹œ [â€œLifting State Upâ€](https://ko.reactjs.org/docs/lifting-state-up.html)

## ì°¸ê³ 

```javascript
// ì•„ì´í…œ ëª©ë¡ì—ì„œ keyê°€ valueì¸ ê²ƒë§Œ ì„ íƒí•˜ê¸°
function select<ItemType, ValueType>(
	items: ItemType[],
	key: keyof ItemType,
	value: ValueType,
) {
	return items.filter((item) => item[key] === value);
}
```

[ëª©ì°¨ğŸ”º](2.-react-state.md#undefined)
