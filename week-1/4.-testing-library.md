# 4. Testing Library

{% hint style="info" %}
[Jest ê³µì‹ë¬¸ì„œ](https://jestjs.io/)ëŠ” ê±°ì˜ ëª¨ë“  ê²ƒì„ ê°–ì¶˜ í…ŒìŠ¤íŒ… ë„êµ¬ì´ë©°,

Mochaì™€ Chaiì²˜ëŸ¼ RSpecì˜ describe-itì„ ì§€ì›í•˜ê³ , expectë¡œ ë‹¨ì–¸(assertion)í•  ìˆ˜ ìˆë‹¤. Mockingë„ ë‹¤ì–‘í•œ ë ˆë²¨ì—ì„œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
{% endhint %}

* [BETTER SPECS](https://www.betterspecs.org/) â†’ RSpec ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ëª¨ìŒ. ê·¸ëŒ€ë¡œ ì“°ëŠ” ê±´X, ì°¸ê³ 
* [Ginkgo - Go ì–¸ì–´ ê°œë°œìë¥¼ ìœ„í•œ BDD í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬](https://youtu.be/gfTsSBRvdqI) (Go ì–¸ì–´ ì‚¬ë¡€)
* [JUnit5ë¡œ ê³„ì¸µ êµ¬ì¡°ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•˜ê¸°](https://johngrib.github.io/wiki/junit5-nested/) (Java ì–¸ì–´ ì‚¬ë¡€)
* [Letâ€™s RSpec](https://github.com/ahastudio/til/blob/main/ruby/20161206-rspec-let.md) â†’ JestëŠ” RSpecì˜ let ê°™ì€ ê±¸ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, í•µì‹¬ ì•„ì´ë””ì–´ë¥¼ ê°€ì ¸ì™€ì„œ ì ë‹¹í•œ ìˆ˜ì¤€ì—ì„œ ì¨ì•¼í•¨

### ğŸ“šë°”ë¡œê°€ê¸°

* [í…ŒìŠ¤íŠ¸ì½”ë“œ](4.-testing-library.md#undefined-1)
* [React Testing Library](4.-testing-library.md#react-testing-library)

### ğŸ“í…ŒìŠ¤íŠ¸ì½”ë“œ

```javascript
// TDD ê¸°ë³¸ì ì¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ 
function add(x: number, y: number): number {
    return x + y;
}

test('ìˆ«ì ë”í•˜ê¸°', () => {
    expect(add(1,2)).toBe(3);
});
```

```bash
// ì‹¤í–‰ (package.json ì„¤ì •í•´ë‘ )
npx jest --watchAll 
npm run watch:test
```

```javascript
// BDD ìŠ¤íƒ€ì¼ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ
describe('add í•¨ìˆ˜ëŠ”', () => {
    it('ë‘ ìˆ«ìì˜ í•©ì„ ë¦¬í„´í•œë‹¤.', () => {
        expect(add(1, 2)).toBe(3);
    });
});
```

```bash
// ë‚´ë¶€ì— ìˆëŠ” ê²ƒì„ í•˜ë‚˜ì”© ë³¼ ìˆ˜ ìˆìŒ.
npx jest --verbose
npm run watch:test -- --verbose
```

```javascript
// context BDD
const context = describe;

describe('add í•¨ìˆ˜ëŠ”', () => {
	context('ë‘ ê°œì˜ ì–‘ìˆ˜ê°€ ì£¼ì–´ì¡Œì„ ë•Œ', () => {
		it('í•­ìƒ ë‘ ê°œì˜ ìˆ«ìë³´ë‹¤ í° ê°’ì„ ëŒë ¤ì¤€ë‹¤.', () => {
			expect(add(1, 2)).toBeGreaterThan(1);
			expect(add(1, 2)).toBeGreaterThan(2);
		});
	})

	context('í•˜ë‚˜ì˜ ì–‘ìˆ˜ì™€ ìŒìˆ˜ê°€ ì£¼ì–´ì§€ë©´', () => {
		it('í•­ìƒ í•˜ë‚˜ì˜ ì–‘ìˆ˜ë³´ë‹¤ ì‘ì€ ê°’ì„ ëŒë ¤ì¤€ë‹¤.', () => {
			expect(add(1, -2)).toBeLessThan(1);
		});
	})
});
```

* í‘œí˜„ë ¥ì´ ì¢‹ì•„ì§€ê³ , ì¢€ ë” ê³ ë¯¼í•  ê¸°íšŒë¥¼ ì œê³µí•œë‹¤.

[ëª©ì°¨ğŸ”º](4.-testing-library.md#undefined)

### ğŸ“React Testing Library

{% hint style="info" %}
[React Testing Library ê³µì‹ë¬¸ì„œ](https://testing-library.com/docs/react-testing-library/intro/)

[jest-dom](https://testing-library.com/docs/ecosystem-jest-dom/)
{% endhint %}

*   UI í…ŒìŠ¤íŠ¸ì— íŠ¹í™”ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬. ê±°ì˜ E2E Testì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆë‹¤.\
    \
    ë‹¨, <mark style="background-color:blue;">**â€œF/E í…ŒìŠ¤íŠ¸ = only React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸â€**</mark> <mark style="background-color:blue;"></mark><mark style="background-color:blue;"></mark> ê°€ ë˜ëŠ” ìƒí™©ì€ ìµœëŒ€í•œ í”¼í•˜ëŠ” ê²Œ ì¢‹ë‹¤. ë³¸ì§ˆì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  ë„ˆë¬´ ë§ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìœ„í—˜ì´ ìˆë‹¤. ìœ ì§€ë³´ìˆ˜ë¥¼ ë•ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì˜ëª» ì‘ì„±í•˜ë©´ ì˜¤íˆë ¤ ìœ ì§€ë³´ìˆ˜ë¥¼ ì €í•´í•  ìˆ˜ ìˆë‹¤.

    \

* ì°¸ê³ ì˜ìƒ ğŸ‘‡ğŸ»
* [í”„ë¡ íŠ¸ì—”ë“œ(Front-end)ë„ í…ŒìŠ¤íŠ¸í•´ì•¼ í•˜ë‚˜ìš”?](https://www.youtube.com/watch?v=-kUmsKRmOnA)
* [Mocking ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì–´ë µë‚˜ìš”](https://www.youtube.com/watch?v=RoQtNLl-Wko)

```javascript
// ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ
import {render, screen} from '@testing-library/react';
import Greeting from './Greeting';

test('Greeting', () => {
	render(<Greeting name='world' />);
	
	// ì—†ìœ¼ë©´ Error
	screen.getByText('Hello, world!');

	// ì •ê·œí‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ë©´ ë¨
	screen.getByText(/Hello/);

	// ì—†ìœ¼ë©´ Error(X), ì—†ëŠ”ê±¸ë¡œ ë‚˜ì˜´
	expect(screen.queryByText(/Hi/)).not.toBeInTheDocument();
});
```

[ëª©ì°¨ğŸ”º](4.-testing-library.md#undefined)
